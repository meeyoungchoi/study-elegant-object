# 3.2 정적 메서드를 사용하지 마세요

## 정리

### 1. 정적 메서드는 유지보수를 어렵게 한다.

- 정적 메서드는 호출된 시점에 실행된다. 이는 성능 최적화를 어렵게 한다.
- 정적 메서드는 확장과 분리가 힘들다.
- 정적 메서드는 선언형이 아닌 `명령형`이다. 명령형 방식의 경우 시간적인 결합이 있어 유지보수가 어려워진다.
- 명령형 프로그래밍은 실행 순서에 의존적이기 때문에 응집도가 떨어진다.

### 2. 선언형 프로그래밍

- 선언형 프로그래밍은 객체 사이의 결합도가 낮아진다.
- 선언과 실행이 분리되어있기 때문에 성능 최적화가 가능하다.
- 선언형 프로그래밍은 다형성으로 코드 블록 사이의 의존성을 끊을 수 있다.
- 명령형 방식보다 표현력이 뛰어나다. 명령형 방식의 경우 머릿속에서 코드를 실행해야 하기 떄문에 덜 직관적이다.

### 3. 정적 메서드를 객체로

- 자주 사용되는 라이브러리가 정적 메서드로 구현되어 있을 경우 새로운 객체로 감싸서 캡슐화 하여라

**예시**

```java
// 명령형 스타일 (정적 메서드)
int y = Math.between(5, 9, 13);

// 선언형 프로그래밍 (객체)
Class Between implement Number {
  private final Number num;

  Between(Number left, Number rigth, Number x) {
    this.num = new Min(new Max(left, x), right);
  } 

  @Override
  public int intValue() {
    return this.num.intValue();
  }
}

Number y = new Between(5, 9, 13); // 실행 전
```

### 결론

- 작으면서도 조합 가능한 클래스를 설계해야한다.
- 객체가 무엇인지만 정의하고 객체들이 필요할 때 스스로 상호작용 하도록 제어를 위임해야 한다.
- 더 큰 클래스를 조합하기 위해 작은 클래스를 재사용할 수 있도록 만들어야 한다.
- 객체지향 프로그래밍이란 결국 작은 객체를 기반으로 더 큰 객체를 조합하는 작업이기 때문에 조합이 불가능한 정적 메서드를 피하는게 맞다.

## 느낀점

읽으면서 `‘선언과 동시에 결과값이 필요할 때는 정적 메서드를 사용하는 게 성능에 더 도움이 될 거 같으니 적절하게 섞어서 써야지’` 라고 생각하자마자 바로 반박하는 내용이 나와서 당황했다..

그리고 싱글톤 클래스와 유틸리티 클래스의 차이점이 `캡슐화된 객체를 변경할 수 있다` 라니 .. 생각도 못했다.

이번 챕터는 딱히 반박할 여지가 떠오르지 않는다. 억지로 반박해보려고 해도 편의성이 높아진다는 핑계밖에 안 떠오른다. 흠 정적 팩토리 메서드나 JsonUtil 같은 유틸리티 클래스를 포기해야한다니.. 정말??ㅠㅠ
