# final이거나 abstract이거나
## 내용 정리

---
1. 가상 메서드(virtual method) <br>

* 대부분의 경우 캡슐화가 상속보다 더 나은 대안

* 상속에 반대하는 가장 강력한 주장은 상속이 객체들의 관계를 너무 복잡하게 만든다는 것

* 근복적인 원인은 상속 그 자체가 아님, 문제를 일으키는 주범은 `가상 메서드`임

```java
class Document {
    public int length() {
        return this.content().length();
    }

    public byte[] content() {
        // 문서의 내용을
        // 바이트 배열로 로드한다
    }
}

class EncryptedDocument extends Document {
    @Override
    public byte[] content() {
        // 문서를 로드해서,
        // 즉시 복호화하고,
        // 복호화한 내용을 반환한다.
    }
}
```

* content() 메서드를 오버라이딩했기 때문에 Document 클래스로부터 상속된 length() 메서드이 해동이 변해버림

* 어떤 문제가 발생했을 때 그 문제의 원인을 창아내기까지 꽤 오랜 시간이 걸릴 것임

* 직관적으로 상속은 자식 클래스가 부모 클래스의 코드를 계승받는 하향식 프로세스

* 자식이 부모의 유산에 접근하는 일반적인 상속과 달리, `메서드 오버라이딩`은 부모가 자식의 코드에 접근하는 것을 가능하게 함 <br>
=> 이러 ㄴ정반대의 사고 방식은 상식에 어긋나는 것 <br>
=> 상속이 OOP를 지탱하는 편리한 도구에서 유지보수성을 해치는 골치덩어리로 축하는 곳이 바로 이 지점. 복잡성이 상승하고, 코드를 읽고 이해하기가 매우 어려워짐


✔️ 방법: 클래스와 메서드를 final이나 abstract 둘 중 하나로 제한

* final 클래스는 사용자 관점에서 '블랙 박스(black box)' <br>
=> final 클래스는 상속을 통해 수정할 수 없음 <br>
=> 불투명하고 독립적이며 자신이 어떻게 행동해야 하는지 알고 있고, 어떤 도움도 필요로 하지 않음 <br>
=> 기술적으로 final 클래스안의 어떤 메서드도 오버라이딩할 수 없음, 메서드는 영원히 fianl

* abstract 클래스는 '글래스 박스(glass box)'이고 불완전함 <br>
=> 스스로 행동할 수 없기 때문에 누군가의 도움이 필요하며 일부 요소가 누락되어 있음 <br>
=> 기술적인 관점에서 abstract 클래스는 아직 클래스가 아님 <br>
=> 제대로 된 클래스를 생성하기 위해 사용할 수 있는 원재료라고 할 수 있음 <br>
=> 기술적으로 abstract 클래스의 특정 메서드를 오버라이딩할 수 있지만 다른 메서드는 모두 fianl

<br>

---
2. 상속이 적절한 경우

* 클래스의 행동을 확장(extend)하지 않고 `정제(refine)`할 때 <br>
=> 확장이란 새로운 행동을 추가해서 기존의 행동을 부분적으로 보완하는 일을 의미 <br>
=> 정제: 부분적으로 불완전한 행동을 완전하게 만드는 일을 의미 <br>

<br>

> Java를 비롯한 많은 언어에서 final과 abstract 어느 쪽에도 해당되지 않는 클래스와 메서드를 만들 수 있도록 허용한 것은 실수

> 우리는 의도를 명확하게 표현해야 함. 다시 말해서 메서드는 올바른 방식으로 설계하거나, 아니면 아예 설계하지 말아야 함

<br>

## 느낀점
---

자바 코드로 예를 들어 설명한 부분은 이해가 잘 안 갔지만 상속을 주의해서 사용해야 한다는 말은 공감한다. 레거시 코드를 보면 상속을 무분별하게 쓴 경우가 좀 보이는데 그 중에 A를 상속 받은 B 클래스가 A의 메서드 중 B에서는 안 쓰는 메서드를 오버라이드해서 아무 처리를 안 해놓는 레거시 코드가 기억에 남는다. <br><br>

당시에는 절차지향, 객체지향 이런 개념을 잘 모르는 상태였는데 왜 이렇게 코드를 짠 걸까? 고민 했던 적이 있다. 결론은 상속을 잘 못 사용하고 있던 것들이다... <br><br>

상속과 인터페이스 차이를 잘 이해하고 올바르게 사용하면 될 것 같다... final과 abstract에 대해 이해하지 못해서가 아니다...흠흠...
