# 불변 객체로 만드세요

## 내용 정리

---
1. 문서화는 유지보수에 중요한 구성요소(component) <br>

* 구체적으로 문서를 만드는 일이 중요한 것이 아니라 클래스나 메서드에 관한 추가 정보에 얼마나 쉽게 접근할 수 있는 지가 중요

* 더 읽기 쉬운 코드를 만들기 위해서는, 코드를 읽게 될 사람이 비즈니스 도메인, 프로그래밍 언어, 디자인 패턴, 알고리즘을 거의 이해하지 못하는 주니어 프로그래머라고 가정

* 나쁜 프로그래머는 복잡한 코드를 짜고 훌륭한 프로그래머는 단순한 코드를 짬

* 이상적인 코드는 스스로를 설명하기 때문에 어떤 추가 문서도 필요하지 않음

`코드를 문서화하는 대신 코드를 깔끔하게(clean) 만들자`: '깔끔하게 만든다'라는 말에는 단위 테스트도 함께 만든다는 의미

---
2. 단위 테스트 <br>

* (저자) 단위 테스트를 일반적인 프랙티스 차원에서 바라보기는 하지만, 메서드, 프로퍼티, 이름, 인터페이스의 목록처럼 단위 테스트 역시 클래스의 일부로 취급해야 함

* 단위 테스트는 클래스의 `일부`이지 독립적인 개체(entity)가 아님 <br>
=> 기술적인 측면이 아니라 개념적인 측면에서 그렇다는 의미 <br>
=> 기술적으로는 많은 언어들이 단위 테스트를 별도의 파일로 구현할 수 밖에 없음 <br>

* 깔끔하고 유지보수 가능한 단위 테스트를 추가하면, 클래스를 더 깔끔하게 만들 수 있고 유지 보수성을 향상시킬 수 있음 <br>
=> 더 훌륭한 단위 테스트를 작성할수록 더 작은 무선화가 요구되는 이유, `단위테스트 = 문서화`

* 단위 테스트는 클래스의 사용 방법을 `보여주는데` 반해, 문서는 이해하고 해석하기 어려운 이야기를 들려줌

```java
class CashTest {
    @Test
    public void summarizes() {
        assertThat(
            new Cash("$5").plus(new Cash("$3")),
            equalTo(new Cash("$8"))
        );
    }

    @Test
    public void deducts() {
        assertThat(
            new Cash("$7").plus(new Cash("-$11")),
            equalTo(new Cash("-4"))
        );
    }

    @Test
    public void multiplies() {
        assertThat(
            new Cash("$2").mull(3),
            equalTo(new Cash("$6"))
        );
    }
}
```


## 느낀점
---
잘 짜여진 테스트 코드는 그 자체가 문서라는 느낌이 요즘 단위 테스트를 연습하는 입장에서 공감이 갔다. 그리고 단위 테스트로 부족하다면 RestDocs를 이용해서 자동화된 문서화를 이용하면 될듯하다. <br>

다만, 연습을 하면 할 수록 단위 테스트 이외에 인수 테스트 등... 테스트 자체를 잘 쓰려다 보면 생각보다 고민(연습)할게 많다. 기능을 구현하는 것 만큼이나 테스트에 대한 고민을 할만큼 잘 관리하기 위해서 많은 노력이 필요했다. <br>

그 만큼 힘들지만 유지함으로써 오는 이점은 더 많다고 생각이 들어 주변에 권하고 싶은 방법이다.

