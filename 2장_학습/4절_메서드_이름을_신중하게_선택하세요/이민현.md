# 빌더의 이름은 명사로, 조정자의 이름은 동사로

## 빌더

- 빌더란 뭔가를 만들고 새로운 객체를 반환 하는 메서드
- 반환 타입은 절대 void가 될 수 없으며, 항상 명사여야 한다.

## 조정자

- 객체로 추상화한 실세계 엔티티를 수정하는 메서드
- 반환 타입은 항상 void이고, 항상 동사여야 한다.

추가적으로 뭔가를 조작한 후 반환하거나, 뭔가를 만드는 동시에 조작하는 메서드가 있어선 안된다. (조정자 + 빌더 동시 사용 X)

# getter는 안티패턴이다.

- 동사이지만 근본적으로 어떤 값을 반환하는 빌더이다. (위 제안과 상충함)

---

# 2.4.1 빌더는 명사다

- 어떤 것을 반환하는 메서드의 이름을 동사로 짓는 것은 잘못이다.
    - 브라우니를 요리하거나 커피를 끓이는 **정확한 방법은 본인의 관심사가 아니다.**
        - (ex) 브라우니를 요리해주세요 → 브라우니 주세요
        - (ex) 커피 한잔 끓여주세요 → 커피 한잔 주세요

- 올바르게 지은 메서드 이름은 사용자들이 객체를 설계한 목적, 임무, 존재목적과 의미를 더 잘 이해할 수 있게 만든다.
- **객체는 살아있는 유기체이다.**
- 메서드의 이름을 동사로 지을땐 객체에게 ‘무엇을 할 지(what to do)’를 알려주어야 한다. 무엇을 ‘만들라고(build)’ 요청하는 것은 협력자에 대한 존중이 결여된 방식이다. 만드는 방법은 스스로 결정하도록 해야한다.
    - **객체에게 어떤 일을 해야하는지 직접적으로 명령하지 않는다. 단순히 결과를 요청할 뿐이다.**

```java
// 잘못된 방식: InputStream load(UrL url);
InputStream stream(URL url);
// 잘못된 방식: String read(File file);
String content(File file);
// 잘못된 방식: int add(int x, int y);
int sum(int x, int y); // 더하라고(add) 요청하지 않는다. 합을 계산해 달라고(sum) 요청한다.
```

---

# 2.4.2 조정사는 동사다

- 엔티티를 조작해야 하는 경우, 객체가 그 작업을 수행하도록 요청한다.

## 빌더 패턴에 대한 고찰

- 유지 보수성이 낮고 응집도가 떨어지는 더 커다란 객체를 만들도록 조정한다.
- 생성자에 너무 많은 인자를 전달하고 싶지 않을때 유용하게 사용할 수 있으나, 인자의 수가 많다는 것 자체가 문제이다.
- **빌더 패턴의 사용 대신 복잡한 객체를 더 작은 객체들로 나눠라.**

---

# 2.4.3 빌더와 조정자 혼합하기

- 하나의 메서드 안에서 너무 복잡한 일을 처리하여 목적이 명확하지 않은 메서드는 명사나 동사중 하나로 이름을 짓기 힘들다. 이런 경우 리팩터링을 진행하라.

## 코드 예시

### 기존

```java
class Document {
	int write(InputStream content); //문서에 내용을 기록하고 바이트 수도 받아야 한다.
}
```

### 개선

```java
class Document {
	OutputPipe output();
}

class OutputPipe {
	void write(InputStream content);
	int bytes();
	long time();
}
```

- `output()` 메서드는 빌더이다.
- `OutputPipe` 타입의 객체를 생성한다. (객체의 이름을 ‘writer’로 짓지 않았단 점이 중요하다)
- `OutputPipe` 내에서 여러 정보를 수집할 수도 있다.

---

# 2.4.4 Boolean 값을 결과로 반환하는 경우

- `isEmpty()`? `exists()`? 다 틀렸다. **형용사로 지어야한다.**

```java
// 좋은 예
boolean empty(); //is empty
boolean readable(); //is readable
boolean negative(); //is negative

// 예외로 잘못된 예
boolean equals(Object obj);
// 좋은 예: equals -> equalTo

boolean exists();
// 좋은 예: exists -> present
```

```java
if (name.emptiness() == true) {
	// 뭔가를 한다.
}
```

위 코드는 ‘if emptiness of the name is true(만약 name의 공백 여부가 true라면)’ 과 같이 읽힌다. 하지만 Java에서는 비교문에 단축 형태를 사용할 수 있기때문에 일반적으로 ‘==true’ 부분을 생략한다.

따라서 **메서드의 이름을 형용사로 지어야 더 자연스럽게 읽히는 문장이 된다.**

```java
if (name.empty()) { //만약 이름이 공백이라면
	// 뭔가를 한다.
}
```

---

# 정리

- 먼저 메서드의 목적이 무엇인지 확인해라. (빌더인지 조정자인지)
- 빌더라면 이름을 명사로, 조정자라면 동사로 지어라.
- Boolean 값을 반환하는 빌더는 형용사로 지어라.

---

# 느낀점

사실 그 `cookBrownie()` 부분과 `brewCupOfCoffee()` 부분 이해가 조금 되지 않는다. 그러면 어떻게 메서드 이름을 만들라고 하는건지? 아래와 같이? 결국 좋은 방식은 무엇인지 정확히 알려줬으면 좋았을텐데..

```java
// 이렇게 하면 '반환값이 있는 메서드는 명사여야 한다'에 위배되는데..
Bakery.cook("Brownie");
Bakery.brew("Coffee");

//이렇게 하란건가? 근데 이러면 메뉴마다 다 만들어줘야 하는데..
Bakery.brownie();
Bakery.coffee();
```

개인적으로 이번 챕터는 가려운 곳을 확실히 긁어주는 챕터였다. 완벽히 코드에 적용하지는 못하겠지만 이런 개념 자체를 가지고 있다면 의식적으로라도 인식하며 이름을 짓게 만들어주니까.

대략적으로 ‘아 이렇겠구나' 싶었던 개념을 확실히 얘기해주니 조금 더 선명해진 느낌이다. 하지만 어제도 여기서 하지말란거 열심히 했다. (빌더에 동사썼다..)

그리고 언제나 느끼는거지만 좋은 이름들은 좋은 영어실력에서 나온다...... 하..... 내가 만들면 영어지만 외계어인 괴상망측한 이름이 되어버리는데 영어 공부의 필요성을 또 느낀다. 빨리 학원 끊어야지.....