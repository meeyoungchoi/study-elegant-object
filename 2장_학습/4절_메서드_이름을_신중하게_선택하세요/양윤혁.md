### 빌더의 이름은 명사로, 조정자의 이름은 동사로

- 빌더 : 뭔가를 만들고 새로운 객체를 반환하는 메서드를 의미한다.
    - 빌더는 항상 뭔가를 return해야 하며 반환타입은 절대 void가 될 수 없다.
- 조정자 : 객체로 추상화한 실세계 엔티티를 수정하는 메서드를 의미한다.
    - 뭔가를 조작하기에 반환타입은 항상 void이다.
- 빌더는 어떤 것을 만들고, 조정자는 뭔가를 조작하기에 빌더와 조정자 사이에는 어떠한 메서드도 존재해서는 안된다.
- 즉, 뭔가를 만드는 동시에 조작하는 메서드가 있어서는 안된다.

1. 빌더는 명사다
    1. 객체는 자신의 의무를 수행하는 방법을 알고 있고 존중 받기를 원하는 살아있는 유기체이다. 
    2. 그런 객체는 단순히 지시를 따르는 것이 아니라 계약에 기반하여 일하고 싶어한다. 
    3. 이러한 이유로 인해 객체에게 무엇을 할 지 알려주어야 한다. 여기서 무엇을 만들어야 하는지만 요청하고 만드는 방법은 객체 스스로 결정하도록 해야 한다. 
    
    따라서 다음의 메서드 명은 잘못 지어진 것을 확인할 수 있다.
    
    ```
    InputStream load(URL url);
    String lead(File file);
    int add(int x, int y);
    ```
    
    위 메서드들은 다음과 같이 수정되어야 한다. 
    
    ```
    InputStream stream(URL url);
    String content(File file);
    int sum(int x, int y); // 객체에게 더하라고 요청하는 것이 아닌(add)
    											 // 두 수의 합을 계산하라고 요청해야 한다.(sum)
    ```
    
2. 조정자는 동사다
    1. 빌더만이 값을 반환할 수 있고 해당 메서드의 이름은 명사이다. 
    2. 객체를 뭔가 조정해야 한다면 이는 조정자이며 이름은 동사고, 반환값은 없다.
    3. 빌더 패턴을 사용하는 경우 “with”로 시작하는 메서드 이름을 사용해도 무방하다.
    
    ```
    class Book{
    		Book withAuthor(String author); // BookwithAuthor
        Book withTitle(String title); // BookwithTitle
        Book withPage(Page page; // BookwithPage
    }
    ```
    
    모든 메서드 내에서 book이라는 접두사를 반복해서 사용하지 않기 위해 with 접두사를 사용한 경우이다. 위 메서드들은 빌드이고 명사이다.   
    
    - 빌더 패턴은 유지보수성이 낮고 응집도가 떨어지는 더 커다란 객체를 만들도록 조장하기 때문에 개인적으로는 빌더 패턴에 반대하는 입장이다.
    - 빌더 패턴은 생성자에 너무 많은 인자를 전달하고 싶지 않을 때 유용하게 사용할 수 있다.
    - 빌더 패턴을 사용하는 대신 복잡한 객체를 더 작은 객체로 나눠야 한다.
    - 간단히 말해 빌더 패턴을 사용하지 마라!
    
3. 빌더와 조정자 혼합하기 
- 파일의 내용을 저장하고 저장된 바이트 수를 반환하는 메서드가 있다.

```
class Document{
	int write(InputStream content);
}
```

- 해당 메서드는 얼핏 보기에 문제가 없어 보이지만 앞서 설명한 원칙을 위배하고 있다.
    
    원칙 상 메서드 반환타입을 void로 바꿔주어야 하지만 이 경우에 실제 저장된 바이트 수를 알 수가 없다. 
    
    write() 메서드는 데이터를 쓰는 동시에 쓰여진 바이트 수를 카운트한다. 
    
    하나의 메서드 안에서 너무 많은 일이 벌어지는 것이다. 
    

이럴 때 다음과 같이 리팩토링을 하는 것을 추천한다. 

```
class Document{
	OutputPipe output();
}

class OutputPipe{
	void write(InputStream content);
  int bytes();
  long time();
}
```

- output() 메서드는 빌더이다. 해당 메서드는 문서에 내용을 쓸 준비를 하는 OutputPipe 타입 객체를 생성한다. 연산을 수행할 객체를 준비한 것 뿐이다.
- 그 후에 output.write 메서드를 호출하게 되면 OutputPipe 객체를 이용하여 여러 데이터 처리를 수행할 수 있다.

1. Boolean 값을 결과로 반환하는 경우 
    - Object 클래스의 equals나, File 클래스의 exists 메서드는 지금까지 설명한 원칙에 따르면 모두 틀린 메서드 명이다.
    - Boolean 값을 반환하는 메서드는 규칙에 있어서 예외의 경우라고 생각한다.
    - 값을 반환하기에 해당 메서드는 빌더에 속하지만 가독성 측면에서 형용사로 짓는 편이 좋다.
    - Boolean을 반환하는 메서드를 특별하게 취급해야 하는 이유는 다음과 같다.
        - 자바를 포함한 대부분의 언어들이 논리 구성자를 특별한 방식으로 다룬다.
        - 반환 타입이 boolean이라면 if 같은 조건문 내에서 true, false를 반환하기에 해당 메서드 이름을 형용사로 지어, 읽기에 좀 더 자연스럽게 짓는다.
        
    
- 메서드의 목적이 무엇인지 먼저 파악한다.
- 메서드는 빌더, 조정자 둘 중 하나여야 한다.
- 절대 동시에 만족하는 메서드를 생성해서는 안된다.
- 리턴타입이 Boolean인 빌더는 예외에 속하며 이 경우엔 메서드명을 형용사로 작명한다.
